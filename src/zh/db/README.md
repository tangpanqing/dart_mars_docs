## 如何使用数据库

`DartMars` 基于 `mysql1/mysql1` 库，封装了数据库常用操作。

`DartMars` 目前具有如下特性：

1. 支持原生查询

2. 支持查询构造器

2. 自动参数绑定和预查询

3. 简洁易用的查询功能

## 如何配置数据库连接

数据库相关配置，最主要的是在 `env` 文件夹，环境文件内。

参数如下：

| 参数名称      | 默认值        | 作用                |
| -------------|---------------| -------------------| 
| dbHost       | localhost     | 数据库所在服务器地址 |
| dbPort       | 3306          | 数据库连接所用端口   |
| dbUser       | root          | 数据库连接用户名     |
| dbPassword   | root          | 数据库连接密码       |
| dbName       | example       | 数据库名            |

当你使用 `--serve dev/test/prod` 命令时，`DartMars` 将加载对应环境中的数据库连接信息。

## 数据库操作有哪些

`DartMars` 封装了 `30` 多种常用的数据库操作，满足大多数使用场景。

基本操作有 `5` 种

| 操作名称      | 作用          |
| -------------|---------------| 
| insert       | 增加记录       |
| select       | 查询多条记录   |
| find         | 查询单条记录   |
| update       | 更新记录       |
| delete       | 删除记录       |
| query        | 原生操作       |

链式操作有 `19` 种

| 操作名称      | 作用              |
| -------------|-------------------| 
| alias        | 给某表增加别名     |
| where        | 使用查询条件       |
| field        | 使用查询字段       |
| lock         | 锁定某条记录       |
| page         | 查询时分页         |
| limit        | 查询时分页         |
| join         | 连表查询           |
| innerJoin    | 连表查询(内连)     |
| leftJoin     | 连表查询(左连)     |
| rightJoin    | 连表查询(右连)     |
| group        | 使用分组查询       |
| having       | 分组查询后,筛选数据|
| distinct     | 将查询结果去重     |
| order        | 将查询结果排序     |
| union        | 将查询结果合并     |
| comment      | 将SQL语句添加注释  |
| force        | 使用强制索引       |
| fetchSql     | 直接返回SQL语句    |
| partition    | MySQL分区操作      |
| duplicate    | 记录唯一           |
| procedure    | 是否为存储过程     |
| extra        |    待处理         |
| using        |    待处理         |

统计操作有 `3` 种

| 操作名称      | 作用              |
| -------------|-------------------| 
| count        | 获取某字段总数量   |
| sum          | 获取某字段总和     |
| avg          | 获取某字段平均值   |
| min          | 获取某字段最小值   |
| max          | 获取某字段最大值   |

事务操作有 `3` 种

| 操作名称      | 作用          |
| -------------|---------------| 
| startTrans   | 开始事务       |
| commit       | 提交事务       |
| rollback     | 回滚事务       |
 
