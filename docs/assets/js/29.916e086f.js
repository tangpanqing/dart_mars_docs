(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{396:function(t,s,a){"use strict";a.r(s);var n=a(44),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"如何使用路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何使用路由"}},[t._v("#")]),t._v(" 如何使用路由")]),t._v(" "),a("p",[t._v("路由的作用是解析请求路径，并且转发到相应的控制器方法进行处理。")]),t._v(" "),a("p",[t._v("在 "),a("code",[t._v("lib/config/route.dart")]),t._v(" 文件中，我们可以定义路由信息。")]),t._v(" "),a("p",[t._v("当你创建完项目后，打开该文件，我们可以看到相关的示例。")]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../bootstrap/helper/RouteHelper.dart'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../app/controller/HomeController.dart'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("as")]),t._v(" app_controller_HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// don't modify this file yourself, this file content will be replace by DartMars")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// for more infomation, see doc about Route")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/// last replace time 2021-06-19 10:20:26.386828")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("///")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("configRoute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  RouteHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app_controller_HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  RouteHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app_controller_HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  RouteHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/city/:cityName'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app_controller_HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("city"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v("请注意该文件内的提示：你自己不要修改该文件,该文件的内容会被 "),a("code",[t._v("DartMars")]),t._v(" 自动替换掉")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("don't modify this file yourself, this file content will be replace by DartMars\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"如何添加路由规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何添加路由规则"}},[t._v("#")]),t._v(" 如何添加路由规则")]),t._v(" "),a("p",[t._v("如示例内容所看到的，当引入路由帮助类 "),a("code",[t._v("RouteHelper")]),t._v(" 后，你可以通过以下代码，添加路由规则")]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[t._v("RouteHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app_controller_HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("这里意思是：\n当请求方式是 "),a("code",[t._v("GET")]),t._v(" 请求,并且请求路径是 "),a("code",[t._v("/user")]),t._v(" 时, 将该请求交给 "),a("code",[t._v("app_controller_HomeController.HomeController.user")]),t._v(" 这个控制器方法去处理。")]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../app/controller/HomeController.dart'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("as")]),t._v(" app_controller_HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("结合以上导入信息，我们可知 "),a("code",[t._v("app_controller_HomeController")]),t._v(" 是 "),a("code",[t._v("HomeController")]),t._v(" 类的别名。")]),t._v(" "),a("p",[a("code",[t._v("HomeController")]),t._v(" 类的相对路径为 "),a("code",[t._v("../app/controller/HomeController.dart")])]),t._v(" "),a("h2",{attrs:{id:"如何更改路由请求方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何更改路由请求方式"}},[t._v("#")]),t._v(" 如何更改路由请求方式")]),t._v(" "),a("p",[t._v("上述的例子中，添加路由规则时，所允许的请求方式为 "),a("code",[t._v("GET")]),t._v(" ,当然可以改成其他的，比如：")]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[t._v("RouteHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app_controller_HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("改成 "),a("code",[t._v("POST")]),t._v("，即表示仅接受 "),a("code",[t._v("POST")]),t._v(" 请求")]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[t._v("RouteHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST|GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app_controller_HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("改成 "),a("code",[t._v("POST|GET")]),t._v("，即表示同时接受 "),a("code",[t._v("POST")]),t._v(" 或者 "),a("code",[t._v("GET")]),t._v(" 请求")]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[t._v("RouteHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app_controller_HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("改成 "),a("code",[t._v("*")]),t._v("，即表示接受所有请求方式, 即 "),a("code",[t._v("POST")]),t._v(" , "),a("code",[t._v("GET")]),t._v(" , "),a("code",[t._v("HEAD")]),t._v(" , "),a("code",[t._v("PUT")]),t._v(" , "),a("code",[t._v("DELETE")]),t._v(" , "),a("code",[t._v("CONNECT")]),t._v(" , "),a("code",[t._v("OPTIONS")]),t._v(" , "),a("code",[t._v("TRACE")])]),t._v(" "),a("h2",{attrs:{id:"如何匹配请求路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何匹配请求路径"}},[t._v("#")]),t._v(" 如何匹配请求路径")]),t._v(" "),a("p",[t._v("如你所见，在下面的代码中")]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[t._v("RouteHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app_controller_HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nRouteHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app_controller_HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nRouteHelper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/city/:cityName'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app_controller_HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HomeController"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("city"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("第一行, 路由路径为 "),a("code",[t._v("/")]),t._v(" ，表示当请求路径为 "),a("code",[t._v("/")]),t._v(" 时, 执行该路由定义的操作。")]),t._v(" "),a("p",[t._v("第二行, 路由路径为 "),a("code",[t._v("/user")]),t._v(" ，表示当请求路径为 "),a("code",[t._v("/user")]),t._v(" 时, 执行该路由定义的操作。")]),t._v(" "),a("p",[t._v("第三行, 路由路径为 "),a("code",[t._v("/city/:cityName")]),t._v(" ，表示当请求路径类似于以下时, 均可执行该路由定义的操作。")]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("city"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("beijing   \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("city"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("shanghai    \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("city"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("newyork   \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h2",{attrs:{id:"如何接收路由匹配参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何接收路由匹配参数"}},[t._v("#")]),t._v(" 如何接收路由匹配参数")]),t._v(" "),a("p",[t._v("如上述，当路由路径为 "),a("code",[t._v("/city/:cityName")]),t._v(" 时，可匹配类似于以下的请求路径")]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("city"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("beijing   \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("city"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("shanghai    \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("city"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("newyork   \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("DartMars")]),t._v(" 的内部处理逻辑，会将 "),a("code",[t._v(":city")]),t._v(" 所对应的信息作为参数，传送给该路由所定义的控制器方法。")]),t._v(" "),a("p",[t._v("打开文件 "),a("code",[t._v("HomeController.dart")]),t._v(" 文件，你可以看到相关内容")]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token metadata symbol"}},[t._v("@RouteMeta")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/city/:cityName'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("city")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Context ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" String cityName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" cityName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("其中第二行中的 "),a("code",[t._v("cityName")]),t._v(" 即是从请求路径中得到的参数")]),t._v(" "),a("h2",{attrs:{id:"如何自动生成路由配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何自动生成路由配置文件"}},[t._v("#")]),t._v(" 如何自动生成路由配置文件")]),t._v(" "),a("p",[t._v("路由配置文件的规则，可以人工添加，但是我们强烈建议不要这样做。因为项目会越来越大，路由规则会有很多，人工添加容易出错。")]),t._v(" "),a("p",[a("code",[t._v("DartMars")]),t._v(" 提供了自动生成路由配置文件的功能，可以很方便的完成该工作。")]),t._v(" "),a("p",[t._v("你需要做的事情是，在写控制器方式时，在前面加上 "),a("code",[t._v("@RouteMeta")]),t._v(", 像这样")]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token metadata symbol"}},[t._v("@RouteMeta")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/city/:cityName'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("code",[t._v("@RouteMeta")]),t._v(" 接收两个参数，第一个是路由路径，第二个是请求方式")]),t._v(" "),a("p",[t._v("然后，当你使用下述命令启动项目时，")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("dart pub global run dart_mars --serve dev\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("code",[t._v("DartMars")]),t._v(" 会遍历所有 "),a("code",[t._v("lib/app")]),t._v(" 文件夹下，标记有 "),a("code",[t._v("@RouteMeta")]),t._v(" 的方法，将全部被写入路由配置文件。")]),t._v(" "),a("p",[t._v("然后命令行提示：路由配置文件已经更新。")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("route config "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" has been updated, see ./lib/config/route.dart \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("请注意，为了使用 "),a("code",[t._v("@RouteMeta")]),t._v(", 你需要提前导入 "),a("code",[t._v("RouteMeta.dart")])]),t._v(" "),a("div",{staticClass:"language-dart line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dart"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'package:{package}/bootstrap/meta/RouteMeta.dart'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("扩展阅读 "),a("a",{attrs:{href:"https://www.baidu.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("在文档中, {package} 是什么意思"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);