(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{389:function(t,v,_){"use strict";_.r(v);var s=_(44),e=Object(s.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h2",{attrs:{id:"如何使用redis缓存"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#如何使用redis缓存"}},[t._v("#")]),t._v(" 如何使用Redis缓存")]),t._v(" "),_("p",[_("code",[t._v("DartMars")]),t._v(" 封装了缓存操作类，可以直接执行 "),_("code",[t._v("Redis")]),t._v(" 相关操作，满足大部分日常需求。")]),t._v(" "),_("p",[t._v("使用之前，先导入缓存操作类。")]),t._v(" "),_("div",{staticClass:"language-dart line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-dart"}},[_("code",[_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'package:project_name/bootstrap/redis/Redis.dart'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[t._v("1")]),_("br")])]),_("p",[t._v("接下来，可以这样使用")]),t._v(" "),_("div",{staticClass:"language-dart line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-dart"}},[_("code",[_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//初始化类")]),t._v("\nRedis redis "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("Redis")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//连接Redis服务器")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" redis"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("3379")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//验证")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" redis"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("auth")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123456'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置key")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" reids"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'key'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取key")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("dynamic")]),t._v(" res "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" redis"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'key'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[t._v("1")]),_("br"),_("span",{staticClass:"line-number"},[t._v("2")]),_("br"),_("span",{staticClass:"line-number"},[t._v("3")]),_("br"),_("span",{staticClass:"line-number"},[t._v("4")]),_("br"),_("span",{staticClass:"line-number"},[t._v("5")]),_("br"),_("span",{staticClass:"line-number"},[t._v("6")]),_("br"),_("span",{staticClass:"line-number"},[t._v("7")]),_("br"),_("span",{staticClass:"line-number"},[t._v("8")]),_("br"),_("span",{staticClass:"line-number"},[t._v("9")]),_("br"),_("span",{staticClass:"line-number"},[t._v("10")]),_("br"),_("span",{staticClass:"line-number"},[t._v("11")]),_("br"),_("span",{staticClass:"line-number"},[t._v("12")]),_("br"),_("span",{staticClass:"line-number"},[t._v("13")]),_("br"),_("span",{staticClass:"line-number"},[t._v("14")]),_("br"),_("span",{staticClass:"line-number"},[t._v("15")]),_("br")])]),_("p",[t._v("请注意，大多数操作都需要通过返回值是否等于字符串 "),_("code",[t._v("OK")]),t._v(" 来判断是否成功。")]),t._v(" "),_("h2",{attrs:{id:"还支持哪些操作"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#还支持哪些操作"}},[t._v("#")]),t._v(" 还支持哪些操作")]),t._v(" "),_("p",[t._v("上述代码，只是简单演示，"),_("code",[t._v("DartMars")]),t._v(" 还支持对 "),_("code",[t._v("redis")]),t._v(" 的以下操作")]),t._v(" "),_("p",[t._v("各操作用法和意义，请参看注释或者网页。")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("键")]),t._v(" "),_("th",[t._v("字符串")]),t._v(" "),_("th",[t._v("散列表")]),t._v(" "),_("th",[t._v("列表")]),t._v(" "),_("th",[t._v("集合")]),t._v(" "),_("th",[t._v("有序集合")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("del")]),t._v(" "),_("td",[t._v("append")]),t._v(" "),_("td",[t._v("hdel")]),t._v(" "),_("td",[t._v("blpop")]),t._v(" "),_("td",[t._v("sadd")]),t._v(" "),_("td",[t._v("zadd")])]),t._v(" "),_("tr",[_("td",[t._v("dump")]),t._v(" "),_("td",[t._v("bitcount")]),t._v(" "),_("td",[t._v("hexists")]),t._v(" "),_("td",[t._v("brpop")]),t._v(" "),_("td",[t._v("scard")]),t._v(" "),_("td",[t._v("zcard")])]),t._v(" "),_("tr",[_("td",[t._v("exists")]),t._v(" "),_("td",[t._v("bitop")]),t._v(" "),_("td",[t._v("hget")]),t._v(" "),_("td",[t._v("brpoplpush")]),t._v(" "),_("td",[t._v("sdiff")]),t._v(" "),_("td",[t._v("zcount")])]),t._v(" "),_("tr",[_("td",[t._v("expire")]),t._v(" "),_("td",[t._v("decr")]),t._v(" "),_("td",[t._v("hgetall")]),t._v(" "),_("td",[t._v("lindex")]),t._v(" "),_("td",[t._v("sdiffstore")]),t._v(" "),_("td",[t._v("zincrby")])]),t._v(" "),_("tr",[_("td",[t._v("expireat")]),t._v(" "),_("td",[t._v("decrby")]),t._v(" "),_("td",[t._v("hincrby")]),t._v(" "),_("td",[t._v("linsert")]),t._v(" "),_("td",[t._v("sinter")]),t._v(" "),_("td",[t._v("zrange")])]),t._v(" "),_("tr",[_("td",[t._v("keys")]),t._v(" "),_("td",[t._v("get")]),t._v(" "),_("td",[t._v("hincrbyfloat")]),t._v(" "),_("td",[t._v("llen")]),t._v(" "),_("td",[t._v("sinterstore")]),t._v(" "),_("td",[t._v("zrangebyscore")])]),t._v(" "),_("tr",[_("td",[t._v("migrate")]),t._v(" "),_("td",[t._v("getbit")]),t._v(" "),_("td",[t._v("hkeys")]),t._v(" "),_("td",[t._v("lpop")]),t._v(" "),_("td",[t._v("sismember")]),t._v(" "),_("td",[t._v("zrank")])]),t._v(" "),_("tr",[_("td",[t._v("move")]),t._v(" "),_("td",[t._v("getrange")]),t._v(" "),_("td",[t._v("hlen")]),t._v(" "),_("td",[t._v("lpush")]),t._v(" "),_("td",[t._v("smembers")]),t._v(" "),_("td",[t._v("zrem")])]),t._v(" "),_("tr",[_("td",[t._v("object")]),t._v(" "),_("td",[t._v("getset")]),t._v(" "),_("td",[t._v("hmget")]),t._v(" "),_("td",[t._v("lpushx")]),t._v(" "),_("td",[t._v("smove")]),t._v(" "),_("td",[t._v("zremrangebyrank")])]),t._v(" "),_("tr",[_("td",[t._v("persist")]),t._v(" "),_("td",[t._v("incr")]),t._v(" "),_("td",[t._v("hmset")]),t._v(" "),_("td",[t._v("lrange")]),t._v(" "),_("td",[t._v("spop")]),t._v(" "),_("td",[t._v("zremrangebyscore")])]),t._v(" "),_("tr",[_("td",[t._v("pexpire")]),t._v(" "),_("td",[t._v("incrby")]),t._v(" "),_("td",[t._v("hset")]),t._v(" "),_("td",[t._v("lrem")]),t._v(" "),_("td",[t._v("srandmember")]),t._v(" "),_("td",[t._v("zrevrange")])]),t._v(" "),_("tr",[_("td",[t._v("pexpireat")]),t._v(" "),_("td",[t._v("incrbyfloat")]),t._v(" "),_("td",[t._v("hsetnx")]),t._v(" "),_("td",[t._v("lset")]),t._v(" "),_("td",[t._v("srem")]),t._v(" "),_("td",[t._v("zrevrangebyscore")])]),t._v(" "),_("tr",[_("td",[t._v("pttl")]),t._v(" "),_("td",[t._v("mget")]),t._v(" "),_("td",[t._v("hvals")]),t._v(" "),_("td",[t._v("ltrim")]),t._v(" "),_("td",[t._v("sunion")]),t._v(" "),_("td",[t._v("zrevrank")])]),t._v(" "),_("tr",[_("td",[t._v("randomkey")]),t._v(" "),_("td",[t._v("mset")]),t._v(" "),_("td",[t._v("hscan")]),t._v(" "),_("td",[t._v("rpop")]),t._v(" "),_("td",[t._v("sunionstore")]),t._v(" "),_("td",[t._v("zscore")])]),t._v(" "),_("tr",[_("td",[t._v("rename")]),t._v(" "),_("td",[t._v("msetnx")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("rpoplpush")]),t._v(" "),_("td",[t._v("sscan")]),t._v(" "),_("td",[t._v("zunionstore")])]),t._v(" "),_("tr",[_("td",[t._v("renamenx")]),t._v(" "),_("td",[t._v("psetex")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("rpush")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("zinterstore")])]),t._v(" "),_("tr",[_("td",[t._v("restore")]),t._v(" "),_("td",[t._v("set")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("rpushx")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("zscan")])]),t._v(" "),_("tr",[_("td",[t._v("sort")]),t._v(" "),_("td",[t._v("setbit")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("ttl")]),t._v(" "),_("td",[t._v("setex")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("type")]),t._v(" "),_("td",[t._v("setnx")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("scan")]),t._v(" "),_("td",[t._v("setrange")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td",[t._v("strlen")]),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td")])])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("发布订阅")]),t._v(" "),_("th",[t._v("事务")]),t._v(" "),_("th",[t._v("脚本")]),t._v(" "),_("th",[t._v("连接")]),t._v(" "),_("th",[t._v("服务器")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("psubscribe")]),t._v(" "),_("td",[t._v("discard")]),t._v(" "),_("td",[t._v("eval")]),t._v(" "),_("td",[t._v("auth")]),t._v(" "),_("td",[t._v("bgrewriteaof")])]),t._v(" "),_("tr",[_("td",[t._v("publish")]),t._v(" "),_("td",[t._v("exec")]),t._v(" "),_("td",[t._v("evalsha")]),t._v(" "),_("td",[t._v("echo")]),t._v(" "),_("td",[t._v("bgsave")])]),t._v(" "),_("tr",[_("td",[t._v("pubsub")]),t._v(" "),_("td",[t._v("multi")]),t._v(" "),_("td",[t._v("script exists")]),t._v(" "),_("td",[t._v("ping")]),t._v(" "),_("td",[t._v("client getname")])]),t._v(" "),_("tr",[_("td",[t._v("punsubscribe")]),t._v(" "),_("td",[t._v("unwatch")]),t._v(" "),_("td",[t._v("script flush")]),t._v(" "),_("td",[t._v("quit")]),t._v(" "),_("td",[t._v("client kill")])]),t._v(" "),_("tr",[_("td",[t._v("subscribe")]),t._v(" "),_("td",[t._v("watch")]),t._v(" "),_("td",[t._v("script kill")]),t._v(" "),_("td",[t._v("select")]),t._v(" "),_("td",[t._v("client list")])]),t._v(" "),_("tr",[_("td",[t._v("unsubscribe")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("script load")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("client setname")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("config get")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("config resetstat")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("config rewrite")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("config set")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("dbsize")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("debug object")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("debug segfault")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("flushall")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("flushdb")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("info")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("lastsave")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("monitor")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("psync")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("save")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("shutdown")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("slaveof")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("slowlog")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("sync")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td"),t._v(" "),_("td",[t._v("time")])])])])])}),[],!1,null,null,null);v.default=e.exports}}]);